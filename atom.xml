<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Alexander Vagin]]></title>
  <link href="http://PlugIN73.github.io/atom.xml" rel="self"/>
  <link href="http://PlugIN73.github.io/"/>
  <updated>2013-12-02T21:22:30+01:00</updated>
  <id>http://PlugIN73.github.io/</id>
  <author>
    <name><![CDATA[plugin73]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Цель. Процесс непрерывного улучшения [отзыв]]]></title>
    <link href="http://PlugIN73.github.io/blog/2013/12/01/tsiel-protsiess-nieprieryvnogho-uluchshieniia-otzyv/"/>
    <updated>2013-12-01T11:18:00+01:00</updated>
    <id>http://PlugIN73.github.io/blog/2013/12/01/tsiel-protsiess-nieprieryvnogho-uluchshieniia-otzyv</id>
    <content type="html"><![CDATA[<p>Увлекательнейший бизнес-роман, познакомивший Америку с теорией
ограничений.
 <!--more--></p>

<p>Название подобных книг лично у меня вызывает недоверие. Сильно
напоминает практическое занятие &ldquo;Как заработать миллион на семинарах. Цена 10 000 руб. 100 мест&rdquo;. Пожалуй, если бы не <a href="https://twitter.com/mokevnin/status/397111571039916033">твит Кирилла</a>, я не обратил бы на нее внимание&hellip; :(</p>

<p>Главный герой оказывается в трудном положении. Его завод собираются закрывать из-за
убытков, от него ухожит жена, и казалось бы все&hellip; С первых страниц мне
снесло голову &ndash; да ГГ это же я! :D Если проводить аналогии на мою жизнь
&ndash; я совершаю те же ошибки (но в меньшем масштабе), черт возьми.</p>

<p>И как всегда ответы находятся на поверхности, кажутся логическими и иногда капитанскими. Очень интересно наблюдать за действиями ГГ и удивляться, как же эти простые ответы не пришли мне в голову раньше! Я решил поэкспериментировать &ndash; поставил условия задачи маме, и она выбрала решение, которое привело к закрытию завода, а потом была в шоке от верных шагов. :)
Книга заканчивается неожиданно быстро и, как всегда, на самом интересном
месте. Но у нее есть продолжение и скоро я выскажусь о нем ;)</p>

<p>Я постарался не спойлерить и если кому интересно &ndash; книгу можно заказать
на <a href="http://www.ozon.ru/context/detail/id/18820179/">озоне</a>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Calendar Driven Development [заметки]]]></title>
    <link href="http://PlugIN73.github.io/blog/2013/10/16/otzyv-o-calendar-driven-development/"/>
    <updated>2013-10-16T19:43:00+02:00</updated>
    <id>http://PlugIN73.github.io/blog/2013/10/16/otzyv-o-calendar-driven-development</id>
    <content type="html"><![CDATA[<p>По мотивам <a href="http://habrahabr.ru/post/195942/">статьи на хабре</a></p>

<p><strong><em>5 дней</em></strong>
Офигеть! Круто!</p>

<p>Начинаем спор ;) Цель &ndash; 15 дней.</p>

<p><strong><em>10 дней</em></strong>
Ааааа! Закрасить квадратик и спать!</p>

<p><strong><em>15 дней</em></strong>
Неожиданно понимаю, что люблю зеленые квадратики.</p>

<p>Новая цель &ndash; 40 дней. Миссия не выполнима?</p>

<p><strong><em>26 дней</em></strong>
День по гитхабу начинается в 11 МСК &ndash; можно ведь и с утра закоммитить? А
сейчас бухаааать :)</p>

<p><strong><em>27 день</em></strong>
Вчерашний вечер дает о себе знать. Хакатон в андеве. Вспоминаю о коммите
ровно в 11:05. Паника, дикий ужас, ощущение пустоты&hellip; все тлен.</p>

<p>Рекорд &ndash; 26 дней непрерывных коммитов в opensource.
Начинаем заново.</p>

<p><strong><em>3 дня</em></strong>
Окружающие меня не понимают. А я тупо знимаюсь интересным мне делом,
играю, качаю англ и выполняю маленькие задачи, до которых руки никогда
не дойдут&hellip;</p>

<p><strong><em>14 дней</em></strong>
Проекты с хакатнов и по учебе &ndash; отличный повод закрасить этот чертов
квадрат.</p>

<p><strong><em>14 дней</em></strong>
Темно зеленый квадрат это не вам не светлый ;)</p>

<p><strong><em>15 дней</em></strong>
Есть же люди, у которых по 200 непрерывных коммитов&hellip;</p>

<p><strong><em>22 дня</em></strong>
Закоммитить из автобуса в Самаре &ndash; done.</p>

<p><strong><em>29 дней</em></strong>
Рекорд побит, но это очень тяжело.</p>

<p><strong><em>31 день</em></strong>
Коммит в блог на гитхабе дает сразу 2 коммита &ndash; в gh-pages и потом
коммит кода деплоя. Оба
считаются. Сделать темнозеленый квадрат становится проще&hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Timezone vs Ruby &amp;&amp; Rails]]></title>
    <link href="http://PlugIN73.github.io/blog/2013/09/18/timezone-vs-ruby-and-and-rails/"/>
    <updated>2013-09-18T07:01:00+02:00</updated>
    <id>http://PlugIN73.github.io/blog/2013/09/18/timezone-vs-ruby-and-and-rails</id>
    <content type="html"><![CDATA[<p>Подводные камни и true way :)
 <!--more--></p>

<p>При использовании класса <a href="http://ruby-doc.org/core-2.0.0/Time.html" title="Time в ruby 2.0">Time</a> в ruby используется серверное время, как точка отсчета времени.</p>

<pre><code>$ date
Sat Sep 21 16:49:56 CEST 2013
$ irb
2.0.0-p247 :001 &gt; Time.now
=&gt; 2013-09-21 16:49:59 +0200
</code></pre>

<p>Чем это может быть опасно?</p>

<p>Допустим вы разрабатываете программу, которая печатает время прилета самолетов. В вашем часовом поясе сейчас 17:00, а на компьютере установлено правильное время.</p>

<pre><code>time = Time.new(2013, 09, 21, 16, 49, 59)

puts "#{time} - #{plane.name} now #{message}"

2.0.0-p247 :001 &gt; plane_message (plane, "landed")
=&gt; 2013-09-21 16:49:59 +0100 - Airbus 22 now landed
</code></pre>

<p>С этой программой все хорошо, пока мы исполняем ее у себя на сервере. Стоит нам ее вылить, например, на продакшен, который находится в другом часовом поясе или случайно не правильно настроен, как мы получим странный баг &ndash; время будет отличным от ожидаемого. И все потому, что ruby взяло за точку отсчета таймзону сервера.</p>

<p>Получить ожидаемый результат довольно просто &ndash; нужно просто передавать нужное смещение в конструктор:</p>

<pre><code>time = Time.new(2013, 09, 21, 16, 49, 59, "+02:00")
</code></pre>

<p>Над полученным объектом можно выполнять различные преобразования и все они будут представлены в указанной таймзоне.</p>

<p>Согласитесь, что каждый раз помнить о таймзоне рано или поздно надоест! :)</p>

<p>Например, в фреймворке Ruby on Rails эта проблема решается конфигурируемой таймзоной.</p>

<pre><code>#config/application.rb
config.time_zone = 'Europe/Moscow'
</code></pre>

<p>В фреймворке переопределен класс Time (<a href="http://api.rubyonrails.org/classes/Time.html" title="Time в rails">rails Time</a>) и умеет работать с нашей конфигурируемой таймзоной!
Теперь, чтобы всегда использовать нужный часовой пояс, не нужно передавать смещение в конструктор класса Time. Просто вызывайте метод zone():</p>

<pre><code>2.0.0-p247 :001 &gt; Time.now()
=&gt; 2013-09-21 17:42:33 +0200
2.0.0-p247 :002 &gt; Time.zone.now()
=&gt; Sat, 21 Sep 2013 19:42:38 MSK +04:00
</code></pre>

<p>Ну и если очень хочется сменить точку отсчета времени, например парсить время относительно Новосибирска, находясь в Московской зоне, можно либо вручную переписать таймзону (и не забыть ее вернуть обратно), либо использовать возможности rails:</p>

<pre><code>Time.use_zone('Novosibirsk') do
  Time.zone.now
end
</code></pre>

<p>Что хотелось бы отметить &ndash; рельсовый ActiveRecord умеет работать с временными зонами и использует зону из application.rb. В базу данных, по умолчанию, сохраняется время в UTC, т.е. переводится в +0. Для этого используют метод to_s(:db). В большинстве случаев вызывать его нет необходимости, так как rails сами его вызовут.</p>

<p>Исходя из того, что рельсы сохраняют время в UTC, то и из базы они хотят получить время в UTC. А это значит, что хранить таймзону в бд нам не нужно.</p>

<p><strong>UPD 1</strong>:<br>
 В качестве альтернативы к Time.zone.now можно использовать <a href="https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/time/calculations.rb#L28">Time.current</a>.
Его результат &ndash; вызов Time.zone.now, но только при установленной таймзоне в конфигурационном файле (или напрямую через Time.zone), иначе
 возвращает Time.now. На мой взгляд, поведение этого метода в некоторой степени неявно &ndash; необходимо понимать, какой результат будет в
 конкретном случае использования.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Вступление]]></title>
    <link href="http://PlugIN73.github.io/blog/2013/09/17/vstuplieniie/"/>
    <updated>2013-09-17T19:29:00+02:00</updated>
    <id>http://PlugIN73.github.io/blog/2013/09/17/vstuplieniie</id>
    <content type="html"><![CDATA[<p>Первый мой блог и сразу по хардкору jekyll. :)
 <!--more--></p>

<p>Пришло время, когда я хочу и могу о чем-то написать. Тяжело пересилить свои страхи, но я это сделаю!</p>

<p>Хочу тут освещать интересные моменты из своего опыта и вести заметки по прокачке. You are welcome!</p>
]]></content>
  </entry>
  
</feed>
